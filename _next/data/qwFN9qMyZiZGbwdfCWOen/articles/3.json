{"pageProps":{"issue":{"active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","body":null,"closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/r7kamura/nippo/issues/3/comments","created_at":"2022-05-06T22:03:49Z","events_url":"https://api.github.com/repos/r7kamura/nippo/issues/3/events","html_url":"https://github.com/r7kamura/nippo/issues/3","id":1228420492,"labels":[],"labels_url":"https://api.github.com/repos/r7kamura/nippo/issues/3/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHSfx5s5JODWM","number":3,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/nippo/issues/3/reactions"},"repository_url":"https://api.github.com/repos/r7kamura/nippo","state":"open","timeline_url":"https://api.github.com/repos/r7kamura/nippo/issues/3/timeline","title":"日報","updated_at":"2022-05-06T22:03:49Z","url":"https://api.github.com/repos/r7kamura/nippo/issues/3","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"},"bodyHTML":null},"issueComments":[{"author_association":"OWNER","body":"ここ数年間Chrome拡張を触っていなかったので、2022年のChrome拡張のつくり方を調べた。\r\n\r\nTwitterで尋ねたらk0kubunが良さそうなページを教えてくれた。感謝…\r\n\r\n- https://developer.chrome.com/docs/extensions/mv3/getstarted/\r\n\r\nTypeScriptで書き始めたいところではある。","created_at":"2022-05-06T22:05:35Z","html_url":"https://github.com/r7kamura/nippo/issues/3#issuecomment-1120043383","id":1120043383,"issue_url":"https://api.github.com/repos/r7kamura/nippo/issues/3","node_id":"IC_kwDOHSfx5s5CwoF3","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/nippo/issues/comments/1120043383/reactions"},"updated_at":"2022-05-06T22:05:35Z","url":"https://api.github.com/repos/r7kamura/nippo/issues/comments/1120043383","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"},"bodyHTML":"<p dir=\"auto\">ここ数年間Chrome拡張を触っていなかったので、2022年のChrome拡張のつくり方を調べた。</p>\n<p dir=\"auto\">Twitterで尋ねたらk0kubunが良さそうなページを教えてくれた。感謝…</p>\n<ul dir=\"auto\">\n<li><a href=\"https://developer.chrome.com/docs/extensions/mv3/getstarted/\" rel=\"nofollow\">https://developer.chrome.com/docs/extensions/mv3/getstarted/</a></li>\n</ul>\n<p dir=\"auto\">TypeScriptで書き始めたいところではある。</p>"},{"author_association":"OWNER","body":"- TypeScriptは何らかのツールでビルド\r\n    - https://github.com/vercel/ncc はNode.jsプロジェクト用なので活用できない\r\n    - 面倒だけどWebpackが妥当そうではある\r\n- manifest.jsonやHTML等も含めた全ての成果物をdistディレクトリに詰め込む\r\n- バージョンごとにdistをZip化\r\n- 手作業でChrome Web Storeに提出\r\n\r\nという運用が良いのでは無いだろうか。","created_at":"2022-05-06T22:10:30Z","html_url":"https://github.com/r7kamura/nippo/issues/3#issuecomment-1120045791","id":1120045791,"issue_url":"https://api.github.com/repos/r7kamura/nippo/issues/3","node_id":"IC_kwDOHSfx5s5Cworf","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/nippo/issues/comments/1120045791/reactions"},"updated_at":"2022-05-06T22:10:30Z","url":"https://api.github.com/repos/r7kamura/nippo/issues/comments/1120045791","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"},"bodyHTML":"<ul dir=\"auto\">\n<li>TypeScriptは何らかのツールでビルド\n<ul dir=\"auto\">\n<li><a href=\"https://github.com/vercel/ncc\">https://github.com/vercel/ncc</a> はNode.jsプロジェクト用なので活用できない</li>\n<li>面倒だけどWebpackが妥当そうではある</li>\n</ul>\n</li>\n<li>manifest.jsonやHTML等も含めた全ての成果物をdistディレクトリに詰め込む</li>\n<li>バージョンごとにdistをZip化</li>\n<li>手作業でChrome Web Storeに提出</li>\n</ul>\n<p dir=\"auto\">という運用が良いのでは無いだろうか。</p>"},{"author_association":"OWNER","body":"最近はVSCodeのターミナルを常に使うようにしたので、Windows Terminalを使う機会が無くなったというのを思い出した。Windowsを使いはじめた頃はまだVSCodeのターミナルを使う慣習が無かったので、常にそこで作業していた。\r\n\r\nとはいえ、VSCodeで、そのプロジェクト (ワークスペース) ではない別のプロジェクトの物事を何かしたくなったときには、少し変な感じがする。関係の無い適当なプロジェクトを開いて、そこのターミナルでリポジトリを新たにつくるコマンドを叩いたりしている。","created_at":"2022-05-06T23:04:09Z","html_url":"https://github.com/r7kamura/nippo/issues/3#issuecomment-1120066491","id":1120066491,"issue_url":"https://api.github.com/repos/r7kamura/nippo/issues/3","node_id":"IC_kwDOHSfx5s5Cwtu7","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/nippo/issues/comments/1120066491/reactions"},"updated_at":"2022-05-06T23:04:09Z","url":"https://api.github.com/repos/r7kamura/nippo/issues/comments/1120066491","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"},"bodyHTML":"<p dir=\"auto\">最近はVSCodeのターミナルを常に使うようにしたので、Windows Terminalを使う機会が無くなったというのを思い出した。Windowsを使いはじめた頃はまだVSCodeのターミナルを使う慣習が無かったので、常にそこで作業していた。</p>\n<p dir=\"auto\">とはいえ、VSCodeで、そのプロジェクト (ワークスペース) ではない別のプロジェクトの物事を何かしたくなったときには、少し変な感じがする。関係の無い適当なプロジェクトを開いて、そこのターミナルでリポジトリを新たにつくるコマンドを叩いたりしている。</p>"},{"author_association":"OWNER","body":"vite (比較的新し目のフロントエンド向けビルドツール) が良さそうだったので、Webpackではなくこちらを試してみることにした。\r\n\r\n- https://dev.to/jacksteamdev/create-a-vite-react-chrome-extension-in-90-seconds-3df7\r\n\r\n```\r\nnpm init vite@latest\r\n```\r\n\r\n上のコマンドでひな形が作れるようだったので試した。実際には、プロジェクトを既に作った後だったので、それを一時ディレクトリで叩いたあと、必要なファイルを持ってくる、という大変な作業をこなした。\r\n\r\nnpm initにそういうコマンドを利用できるのも知らなかったけど、便利だなーこれは。`npm help init` を叩くと説明されていて、上のコマンド例だと `npm exec create-vite@latest` が実行されているらしい。\r\n\r\n- https://github.com/vitejs/vite/tree/main/packages/create-vite#readme\r\n\r\n`npm exec` は普段使っている `npx` のalias。`npm init` は `npm create` というaliasもある。\r\n\r\nJack Steamさんのこの記事を参考につくっていっている。\r\n\r\n- https://dev.to/jacksteamdev/create-a-vite-react-chrome-extension-in-90-seconds-3df7","created_at":"2022-05-06T23:06:13Z","html_url":"https://github.com/r7kamura/nippo/issues/3#issuecomment-1120067230","id":1120067230,"issue_url":"https://api.github.com/repos/r7kamura/nippo/issues/3","node_id":"IC_kwDOHSfx5s5Cwt6e","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/nippo/issues/comments/1120067230/reactions"},"updated_at":"2022-05-06T23:37:29Z","url":"https://api.github.com/repos/r7kamura/nippo/issues/comments/1120067230","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"},"bodyHTML":"<p dir=\"auto\">vite (比較的新し目のフロントエンド向けビルドツール) が良さそうだったので、Webpackではなくこちらを試してみることにした。</p>\n<ul dir=\"auto\">\n<li><a href=\"https://dev.to/jacksteamdev/create-a-vite-react-chrome-extension-in-90-seconds-3df7\" rel=\"nofollow\">https://dev.to/jacksteamdev/create-a-vite-react-chrome-extension-in-90-seconds-3df7</a></li>\n</ul>\n<pre class=\"notranslate\"><code class=\"notranslate\">npm init vite@latest\n</code></pre>\n<p dir=\"auto\">上のコマンドでひな形が作れるようだったので試した。実際には、プロジェクトを既に作った後だったので、それを一時ディレクトリで叩いたあと、必要なファイルを持ってくる、という大変な作業をこなした。</p>\n<p dir=\"auto\">npm initにそういうコマンドを利用できるのも知らなかったけど、便利だなーこれは。<code class=\"notranslate\">npm help init</code> を叩くと説明されていて、上のコマンド例だと <code class=\"notranslate\">npm exec create-vite@latest</code> が実行されているらしい。</p>\n<ul dir=\"auto\">\n<li><a href=\"https://github.com/vitejs/vite/tree/main/packages/create-vite#readme\">https://github.com/vitejs/vite/tree/main/packages/create-vite#readme</a></li>\n</ul>\n<p dir=\"auto\"><code class=\"notranslate\">npm exec</code> は普段使っている <code class=\"notranslate\">npx</code> のalias。<code class=\"notranslate\">npm init</code> は <code class=\"notranslate\">npm create</code> というaliasもある。</p>\n<p dir=\"auto\">Jack Steamさんのこの記事を参考につくっていっている。</p>\n<ul dir=\"auto\">\n<li><a href=\"https://dev.to/jacksteamdev/create-a-vite-react-chrome-extension-in-90-seconds-3df7\" rel=\"nofollow\">https://dev.to/jacksteamdev/create-a-vite-react-chrome-extension-in-90-seconds-3df7</a></li>\n</ul>"},{"author_association":"OWNER","body":"とりあえずリポジトリをつくった。\r\n\r\n- https://github.com/r7kamura/copy-rich-link","created_at":"2022-05-06T23:06:30Z","html_url":"https://github.com/r7kamura/nippo/issues/3#issuecomment-1120067336","id":1120067336,"issue_url":"https://api.github.com/repos/r7kamura/nippo/issues/3","node_id":"IC_kwDOHSfx5s5Cwt8I","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/nippo/issues/comments/1120067336/reactions"},"updated_at":"2022-05-06T23:06:30Z","url":"https://api.github.com/repos/r7kamura/nippo/issues/comments/1120067336","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"},"bodyHTML":"<p dir=\"auto\">とりあえずリポジトリをつくった。</p>\n<ul dir=\"auto\">\n<li><a href=\"https://github.com/r7kamura/copy-rich-link\">https://github.com/r7kamura/copy-rich-link</a></li>\n</ul>"},{"author_association":"OWNER","body":"viteのChrome extension向け機能を入れた。\r\n\r\n```\r\nnpm i -D @crxjs/vite-plugin\r\n```\r\n\r\nvite.config.ts でこのプラグインを利用して「manifest.jsonフを元にいい感じにしてくれ」と伝えると、ビルド時にmanifest.jsonを見て必要なものを全部ビルドしてくれるらしい。例えばmanifest.jsonに「Chrome extensionのアイコンがクリックされたときはこのHTMLを表示する」と定義されていたら、そのHTMLファイルをビルド対象に含めてくれるし、更にそのHTMLファイルで参照されているJavaScriptも含めてくれる。\r\n\r\n```\r\nnpm run build\r\nexplorer.exe .\r\n```\r\n\r\nビルドするとdistディレクトリが出来上がるので、これを chrome://extensions のダッシュボードにDrag & Dropすると、無事拡張が読み込まれた。\r\n\r\n![image](https://user-images.githubusercontent.com/111689/167227302-68cef7e1-b0a9-4472-8913-63008bc45504.png)","created_at":"2022-05-06T23:27:21Z","html_url":"https://github.com/r7kamura/nippo/issues/3#issuecomment-1120074088","id":1120074088,"issue_url":"https://api.github.com/repos/r7kamura/nippo/issues/3","node_id":"IC_kwDOHSfx5s5Cwvlo","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/nippo/issues/comments/1120074088/reactions"},"updated_at":"2022-05-06T23:27:21Z","url":"https://api.github.com/repos/r7kamura/nippo/issues/comments/1120074088","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"},"bodyHTML":"<p dir=\"auto\">viteのChrome extension向け機能を入れた。</p>\n<pre class=\"notranslate\"><code class=\"notranslate\">npm i -D @crxjs/vite-plugin\n</code></pre>\n<p dir=\"auto\">vite.config.ts でこのプラグインを利用して「manifest.jsonフを元にいい感じにしてくれ」と伝えると、ビルド時にmanifest.jsonを見て必要なものを全部ビルドしてくれるらしい。例えばmanifest.jsonに「Chrome extensionのアイコンがクリックされたときはこのHTMLを表示する」と定義されていたら、そのHTMLファイルをビルド対象に含めてくれるし、更にそのHTMLファイルで参照されているJavaScriptも含めてくれる。</p>\n<pre class=\"notranslate\"><code class=\"notranslate\">npm run build\nexplorer.exe .\n</code></pre>\n<p dir=\"auto\">ビルドするとdistディレクトリが出来上がるので、これを chrome://extensions のダッシュボードにDrag &amp; Dropすると、無事拡張が読み込まれた。</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/111689/167227302-68cef7e1-b0a9-4472-8913-63008bc45504.png\"><img src=\"https://user-images.githubusercontent.com/111689/167227302-68cef7e1-b0a9-4472-8913-63008bc45504.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>"}]},"__N_SSG":true}